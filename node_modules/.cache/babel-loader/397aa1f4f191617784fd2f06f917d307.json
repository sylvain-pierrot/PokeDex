{"ast":null,"code":"import { useStore } from 'vuex';\nimport { reactive, onMounted, onUnmounted, computed } from 'vue';\nimport PokeCard from '../components/PokeCard.vue';\nexport default {\n  __name: 'Pokedexx',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const store = useStore();\n    const interval = reactive({\n      offset: 0,\n      limit: 10\n    });\n    const pokemons = computed(() => {\n      return store.state.pokemons;\n    });\n    function addMorePokemons() {\n      store.dispatch('addPokemons', interval);\n      interval.offset += interval.limit;\n    }\n    function loadOnScroll() {\n      if (window.scrollY >= window.scrollMaxY) {\n        addMorePokemons();\n      }\n    }\n    addMorePokemons();\n    onMounted(() => {\n      window.addEventListener('scroll', loadOnScroll);\n    });\n    onUnmounted(() => {\n      window.removeEventListener('scroll', loadOnScroll);\n    });\n    const __returned__ = {\n      store,\n      interval,\n      pokemons,\n      addMorePokemons,\n      loadOnScroll,\n      useStore,\n      reactive,\n      onMounted,\n      onUnmounted,\n      computed,\n      PokeCard\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"mappings":"AAkBA,SAASA,QAAQ,QAAQ,MAAM;AAC/B,SAASC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,EAAEC,QAAQ,QAAQ,KAAK;AAChE,OAAOC,QAAQ,MAAM,4BAA4B;;;;;;;IAEjD,MAAMC,KAAK,GAAGN,QAAQ,EAAE;IACxB,MAAMO,QAAQ,GAAGN,QAAQ,CAAC;MACtBO,MAAM,EAAE,CAAC;MACTC,KAAK,EAAE;IACX,CAAC,CAAC;IACF,MAAMC,QAAQ,GAAGN,QAAQ,CAAC,MAAM;MAAG,OAAOE,KAAK,CAACK,KAAK,CAACD,QAAQ;IAAA,CAAC,CAAC;IAEhE,SAASE,eAAe,GAAG;MACvBN,KAAK,CAACO,QAAQ,CAAC,aAAa,EAAEN,QAAQ,CAAC;MACvCA,QAAQ,CAACC,MAAM,IAAID,QAAQ,CAACE,KAAK;IACrC;IACA,SAASK,YAAY,GAAG;MACpB,IAAIC,MAAM,CAACC,OAAO,IAAID,MAAM,CAACE,UAAU,EAAE;QACrCL,eAAe,EAAE;MACrB;IACJ;IACAA,eAAe,EAAE;IAGjBV,SAAS,CAAC,MAAM;MAAGa,MAAM,CAACG,gBAAgB,CAAC,QAAQ,EAAEJ,YAAY,CAAC;IAAA,CAAC,CAAC;IACpEX,WAAW,CAAC,MAAM;MAAGY,MAAM,CAACI,mBAAmB,CAAC,QAAQ,EAAEL,YAAY,CAAC;IAAA,CAAC,CAAC","names":["useStore","reactive","onMounted","onUnmounted","computed","PokeCard","store","interval","offset","limit","pokemons","state","addMorePokemons","dispatch","loadOnScroll","window","scrollY","scrollMaxY","addEventListener","removeEventListener"],"sources":["/home/pierrots/Polytech/WOA/js/lab4/pokedex/src/views/Pokedexx.vue"],"sourcesContent":["<template>\n    <section id=\"header\">\n        <div class=\"background-pokeball\"><img src=\"./assets/pokeball.png\" alt=\"pokeball\"></div>\n        <div class=\"title\"><h1>Quel Pokemon cherchez-vous?</h1></div>\n        <form class=\"form_pokemon\" action=\"\">\n            <label for=\"search_pokemon\"><i class=\"fa fa-search\" aria-hidden=\"true\"></i></label>\n            <input type=\"text\" id=\"search_pokemon\" placeholder=\"Chercher un Pokemon\">\n        </form>\n    </section>\n\n    <ul class=\"poke-list\">\n        <li v-for=\"(pokemon, index) in pokemons\" :key=\"index\" class=\"card-container\">\n            <PokeCard :pokemon=\"pokemon\"></PokeCard>\n        </li>\n    </ul>\n</template>\n\n<script setup>\nimport { useStore } from 'vuex'\nimport { reactive, onMounted, onUnmounted, computed } from 'vue'\nimport PokeCard from '../components/PokeCard.vue'\n\nconst store = useStore()\nconst interval = reactive({\n    offset: 0,\n    limit: 10,\n})\nconst pokemons = computed(() => {  return store.state.pokemons})\n\nfunction addMorePokemons() {\n    store.dispatch('addPokemons', interval)\n    interval.offset += interval.limit\n}\nfunction loadOnScroll() {\n    if (window.scrollY >= window.scrollMaxY) {\n        addMorePokemons()\n    }\n}\naddMorePokemons()\n\n\nonMounted(() => {  window.addEventListener('scroll', loadOnScroll)})\nonUnmounted(() => {  window.removeEventListener('scroll', loadOnScroll)}) \n</script>\n\n<style scoped> \n    .card-container {\n        position: relative;\n        margin: 0.8em;\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n        align-items: center;\n    }\n    .poke-list {\n        display: flex;\n        flex-wrap: wrap;\n        list-style: none;\n        justify-content: center;\n    }\n</style>"]},"metadata":{},"sourceType":"module"}