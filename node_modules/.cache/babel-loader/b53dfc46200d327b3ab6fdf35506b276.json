{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createStore } from 'vuex';\nexport default createStore({\n  state() {\n    return {\n      pokedex: new (require(\"pokeapi-js-wrapper\").Pokedex)({\n        cacheImages: true\n      }),\n      interval: {\n        offset: 0,\n        limit: 10\n      },\n      pokemons: [],\n      colors: {\n        normal: '#A8A77A',\n        fire: '#EE8130',\n        water: '#6390F0',\n        electric: '#F7D02C',\n        grass: '#7AC74C',\n        ice: '#96D9D6',\n        fighting: '#C22E28',\n        poison: '#A33EA1',\n        ground: '#E2BF65',\n        flying: '#A98FF3',\n        psychic: '#F95587',\n        bug: '#A6B91A',\n        rock: '#B6A136',\n        ghost: '#735797',\n        dragon: '#6F35FC',\n        dark: '#705746',\n        steel: '#B7B7CE',\n        fairy: '#D685AD'\n      },\n      currentPokemon: []\n    };\n  },\n  getters: {},\n  mutations: {\n    INIT_INTERVALE(state) {\n      state.interval.offset = 0;\n      state.interval.limit = 10;\n    },\n    UPDATE_INTERVALE(state) {\n      state.interval.offset += state.interval.limit;\n    },\n    REST_POKEMONS(state) {\n      state.pokemons = [];\n    },\n    PUSH_POKEMONS(state, pokemons) {\n      state.pokemons.push(...pokemons);\n    },\n    PUSH_CURRENT_POKEMON(state, pokemon) {\n      state.currentPokemon = [pokemon];\n    },\n    PUSH_MATCHS(state, pokemons) {\n      state.pokemons = pokemons;\n      state.interval.offset = 10;\n    }\n  },\n  actions: {\n    async initPokemons({\n      commit,\n      state\n    }) {\n      commit('INIT_INTERVALE');\n      commit('REST_POKEMONS');\n      const pokemons_min = await state.pokedex.getPokemonsList(state.interval);\n      const pokemons_global = await Promise.all(pokemons_min.results.map(pokemon => {\n        return state.pokedex.getPokemonByName(pokemon.name);\n      }));\n      commit('PUSH_POKEMONS', pokemons_global);\n      commit('UPDATE_INTERVALE');\n    },\n    async addPokemons({\n      commit,\n      state\n    }) {\n      const pokemons_min = await state.pokedex.getPokemonsList(state.interval);\n      const pokemons_global = await Promise.all(pokemons_min.results.map(pokemon => {\n        return state.pokedex.getPokemonByName(pokemon.name);\n      }));\n      commit('PUSH_POKEMONS', pokemons_global);\n      commit('UPDATE_INTERVALE');\n    },\n    async addCurrentPokemon({\n      commit,\n      state\n    }, search) {\n      const pokemon = await state.pokedex.getPokemonByName(search);\n      commit('PUSH_CURRENT_POKEMON', pokemon);\n      commit('UPDATE_MATCHS', []);\n    },\n    async matchPokemons({\n      commit,\n      state\n    }, search) {\n      let matched = 0;\n      const pokemons_min = await state.pokedex.getPokemonsList();\n      const pokemonsFiltered = pokemons_min.results.filter(pokemon => {\n        return pokemon.name.startsWith(search) && matched++ < 10;\n      });\n      const pokemons_global = await Promise.all(pokemonsFiltered.map(pokemon => {\n        return state.pokedex.getPokemonByName(pokemon.name);\n      }));\n      console.log(pokemons_global);\n      commit('PUSH_MATCHS', pokemons_global);\n    }\n  },\n  modules: {}\n});","map":{"version":3,"names":["createStore","state","pokedex","require","Pokedex","cacheImages","interval","offset","limit","pokemons","colors","normal","fire","water","electric","grass","ice","fighting","poison","ground","flying","psychic","bug","rock","ghost","dragon","dark","steel","fairy","currentPokemon","getters","mutations","INIT_INTERVALE","UPDATE_INTERVALE","REST_POKEMONS","PUSH_POKEMONS","push","PUSH_CURRENT_POKEMON","pokemon","PUSH_MATCHS","actions","initPokemons","commit","pokemons_min","getPokemonsList","pokemons_global","Promise","all","results","map","getPokemonByName","name","addPokemons","addCurrentPokemon","search","matchPokemons","matched","pokemonsFiltered","filter","startsWith","console","log","modules"],"sources":["/home/pierrots/Polytech/WOA/js/lab4/pokedex/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\n\nexport default createStore({\n  state() {\n    return {\n        pokedex: new (require(\"pokeapi-js-wrapper\")).Pokedex({ cacheImages: true }),\n        interval: { offset: 0, limit: 10 },\n        pokemons: [],\n        colors: {\n            normal: '#A8A77A',\n            fire: '#EE8130',\n            water: '#6390F0',\n            electric: '#F7D02C',\n            grass: '#7AC74C',\n            ice: '#96D9D6',\n            fighting: '#C22E28',\n            poison: '#A33EA1',\n            ground: '#E2BF65',\n            flying: '#A98FF3',\n            psychic: '#F95587',\n            bug: '#A6B91A',\n            rock: '#B6A136',\n            ghost: '#735797',\n            dragon: '#6F35FC',\n            dark: '#705746',\n            steel: '#B7B7CE',\n            fairy: '#D685AD'\n        },\n        currentPokemon: []  \n    }\n  },\n  getters: {\n  },\n  mutations: {\n    INIT_INTERVALE(state) {\n      state.interval.offset = 0\n      state.interval.limit = 10\n    },\n    UPDATE_INTERVALE(state) {\n      state.interval.offset += state.interval.limit\n    },\n    REST_POKEMONS(state) {\n      state.pokemons = []\n    },\n    PUSH_POKEMONS(state, pokemons) {\n      state.pokemons.push(...pokemons) \n    },\n    PUSH_CURRENT_POKEMON(state, pokemon) {\n      state.currentPokemon = [pokemon]\n    },\n    PUSH_MATCHS(state, pokemons) {\n      state.pokemons = pokemons\n      state.interval.offset = 10\n    }\n  },\n  actions: {\n    async initPokemons({ commit, state }) {\n      commit('INIT_INTERVALE')\n      commit('REST_POKEMONS')\n      const pokemons_min = await state.pokedex.getPokemonsList(state.interval)\n      const pokemons_global = await Promise.all(\n        pokemons_min.results.map((pokemon) => {  return state.pokedex.getPokemonByName(pokemon.name)})\n      )\n      commit('PUSH_POKEMONS', pokemons_global) \n      commit('UPDATE_INTERVALE')\n    },\n    async addPokemons({ commit, state }) {\n      const pokemons_min = await state.pokedex.getPokemonsList(state.interval)\n      const pokemons_global = await Promise.all(\n        pokemons_min.results.map((pokemon) => {  return state.pokedex.getPokemonByName(pokemon.name)})\n      )\n      commit('PUSH_POKEMONS', pokemons_global) \n      commit('UPDATE_INTERVALE') \n    },\n    async addCurrentPokemon({commit, state }, search) {\n      const pokemon = await state.pokedex.getPokemonByName(search)\n      commit('PUSH_CURRENT_POKEMON', pokemon)\n      commit('UPDATE_MATCHS', [])\n    },\n    async matchPokemons({commit, state }, search) {\n      let matched = 0\n      const pokemons_min = await state.pokedex.getPokemonsList()\n      const pokemonsFiltered = pokemons_min.results.filter((pokemon) => {\n        return pokemon.name.startsWith(search) && matched++ < 10\n      })\n      const pokemons_global = await Promise.all(\n        pokemonsFiltered.map((pokemon) => {  return state.pokedex.getPokemonByName(pokemon.name)})\n      )\n      console.log(pokemons_global)\n      commit('PUSH_MATCHS', pokemons_global)\n    }\n  },\n  modules: {\n  }\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}