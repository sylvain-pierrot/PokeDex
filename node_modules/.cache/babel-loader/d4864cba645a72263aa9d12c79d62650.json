{"ast":null,"code":"import PokemonCard from '../components/PokemonCard.vue';\nimport { useStore } from 'vuex';\nimport { computed } from '@vue/reactivity';\nimport { reactive, onMounted, onUnmounted } from 'vue';\nexport default {\n  __name: 'PokemonList',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const interval = reactive({\n      offset: 0,\n      limit: 10\n    });\n    const store = useStore();\n    function addMorePokemons() {\n      store.dispatch('addPokemons', interval);\n      interval.offset += interval.limit;\n    }\n    addMorePokemons();\n    const pokemons = computed(() => {\n      return store.state.pokemons;\n    });\n    const doScroll = event => {\n      const currentScroll = event.target.scrollY;\n      const scrollBottom = event.target.scrollMaxY;\n      if (currentScroll >= scrollHeight) {\n        console.log('Yay!');\n      }\n    };\n    onMounted(() => {\n      window.addEventListener('scroll', doScroll);\n    });\n    onUnmounted(() => {\n      window.removeEventListener(doScroll);\n    });\n    const __returned__ = {\n      interval,\n      store,\n      addMorePokemons,\n      pokemons,\n      doScroll,\n      PokemonCard,\n      useStore,\n      computed,\n      reactive,\n      onMounted,\n      onUnmounted\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"mappings":"AASA,OAAOA,WAAW,MAAM,+BAA+B;AACvD,SAASC,QAAQ,QAAQ,MAAM;AAC/B,SAASC,QAAQ,QAAQ,iBAAiB;AAC1C,SAASC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,KAAK;;;;;;;IAEtD,MAAMC,QAAQ,GAAGH,QAAQ,CAAC;MACtBI,MAAM,EAAE,CAAC;MACTC,KAAK,EAAE;IACX,CAAC,CAAC;IAEF,MAAMC,KAAK,GAAGR,QAAQ,EAAE;IAExB,SAASS,eAAe,GAAG;MACvBD,KAAK,CAACE,QAAQ,CAAC,aAAa,EAAEL,QAAQ,CAAC;MACvCA,QAAQ,CAACC,MAAM,IAAID,QAAQ,CAACE,KAAK;IACrC;IACAE,eAAe,EAAE;IAEjB,MAAME,QAAQ,GAAGV,QAAQ,CAAC,MAAM;MAAG,OAAOO,KAAK,CAACI,KAAK,CAACD,QAAQ;IAAA,CAAC,CAAC;IAEhE,MAAME,QAAQ,GAAIC,KAAK,IAAK;MAC1B,MAAMC,aAAa,GAAGD,KAAK,CAACE,MAAM,CAACC,OAAO;MAC1C,MAAMC,YAAY,GAAGJ,KAAK,CAACE,MAAM,CAACG,UAAU;MAE5C,IAAIJ,aAAa,IAAIK,YAAY,EAAE;QACjCC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;MAErB;IACF,CAAC;IAEDnB,SAAS,CAAC,MAAM;MACZoB,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEX,QAAQ,CAAC;IAC/C,CAAC,CAAC;IAEFT,WAAW,CAAC,MAAM;MACdmB,MAAM,CAACE,mBAAmB,CAACZ,QAAQ,CAAC;IACxC,CAAC,CAAC","names":["PokemonCard","useStore","computed","reactive","onMounted","onUnmounted","interval","offset","limit","store","addMorePokemons","dispatch","pokemons","state","doScroll","event","currentScroll","target","scrollY","scrollBottom","scrollMaxY","scrollHeight","console","log","window","addEventListener","removeEventListener"],"sources":["/home/pierrots/Polytech/WOA/js/lab4/pokedex/src/views/PokemonList.vue"],"sourcesContent":["<template>\n    <ul class=\"pokemons-list\">\n        <PokemonCard v-for=\"(pokemon, index) in pokemons\" :key=\"index\" :pokemon=\"pokemon\"></PokemonCard>\n    </ul>\n\n    <button @click=\"addMorePokemons\">ADD MORE</button>\n</template>\n\n<script setup>\nimport PokemonCard from '../components/PokemonCard.vue'\nimport { useStore } from 'vuex'\nimport { computed } from '@vue/reactivity'\nimport { reactive, onMounted, onUnmounted } from 'vue'\n\nconst interval = reactive({\n    offset: 0,\n    limit: 10,\n})\n\nconst store = useStore()\n\nfunction addMorePokemons() {\n    store.dispatch('addPokemons', interval)\n    interval.offset += interval.limit\n}\naddMorePokemons()\n\nconst pokemons = computed(() => {  return store.state.pokemons})\n\nconst doScroll = (event) => {\n  const currentScroll = event.target.scrollY\n  const scrollBottom = event.target.scrollMaxY\n \n  if (currentScroll >= scrollHeight) {\n    console.log('Yay!')\n    \n  }\n}\n \nonMounted(() => {\n    window.addEventListener('scroll', doScroll)\n})\n   \nonUnmounted(() => {\n    window.removeEventListener(doScroll)\n}) \n</script>\n\n<style scoped> \n    .pokemons-list {\n        display: flex;\n        flex-wrap: wrap;\n        list-style: none;\n        justify-content: center;\n    }\n    .pokemons-list > li {\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n        align-items: center;\n    }\n</style>"]},"metadata":{},"sourceType":"module"}